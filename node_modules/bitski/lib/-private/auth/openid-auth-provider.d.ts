import { AuthorizationServiceConfiguration } from '@openid/appauth';
import { AuthenticationStatus, OAuthSignInMethod } from '../constants';
import { AuthProvider } from './auth-provider';
import { OAuthManager, SignInOptions } from './oauth-manager';
import { TokenStore } from './token-store';
import { User } from './user';
import { BitskiProviderStore } from 'bitski-provider';
export declare class OpenidAuthProvider implements AuthProvider {
    oauthManager: OAuthManager;
    tokenStore: TokenStore;
    signOutCallback?: () => void;
    private _refreshTokensPromise;
    private currentUser;
    private didConnect;
    constructor(clientId: string, redirectUri: string, store: BitskiProviderStore, additionalScopes?: string[], configuration?: AuthorizationServiceConfiguration);
    getAuthStatus(): Promise<AuthenticationStatus>;
    getAccessToken(): Promise<string>;
    getIdToken(): Promise<string | undefined>;
    getRefreshToken(): Promise<string>;
    invalidateToken(): Promise<void>;
    private refreshTokens;
    refreshAccessToken(): Promise<string>;
    refreshIdToken(): Promise<string | undefined>;
    signIn(method: OAuthSignInMethod, opts?: SignInOptions): Promise<User>;
    connect(): Promise<User>;
    getUser(): Promise<User>;
    getUserFromCache(): User | undefined;
    signInOrConnect(signInMethod?: OAuthSignInMethod, opts?: SignInOptions): Promise<User>;
    redirectCallback(): Promise<User>;
    signOut(): Promise<any>;
    private getOrFetchUser;
    private loadUser;
    loadFromCache(): void;
}
