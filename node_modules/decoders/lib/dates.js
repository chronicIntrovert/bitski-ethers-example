'use strict'

exports.__esModule = true
exports.iso8601 = exports.date = void 0

var _utils = require('../_utils')

var _Decoder = require('../Decoder')

var _strings = require('./strings')
var iso8601_re = /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:[.]\d+)?(?:Z|[+-]\d{2}:?\d{2})$/

var date = (0, _Decoder.define)(function (blob, ok, err) {
  var date = (0, _utils.asDate)(blob)
  return date !== null ? ok(date) : err('Must be a Date')
})

exports.date = date
var iso8601 = (0, _strings.regex)(iso8601_re, 'Must be ISO8601 format').transform(function (value) {
  var date = new Date(value)

  if (isNaN(date.getTime())) {
    throw new Error('Must be valid date/time value')
  }

  return date
})
exports.iso8601 = iso8601
